<!DOCTYPE html>
<html lang="utf-8">

<head th:replace="common/head"></head>

<style>
#alert-danger {
	height: 30px;
	padding: 0.2rem;
}
</style>

<body>
	<div class="jumbotron">
		<div class="container text-center">
			<div class="row">
				<div class="col-md-6 col-md-offset-3">
					<form method="post" action="/signup">

						<div class="form-group">
							<label for="nickName">Nickname</label> <input type="text"
								class="form-control" id="nickName" name="nickName">
						</div>

						<div class="alert alert-danger" id="alert-IDdanger">중복된 아이디</div>


						<div class="form-group">
							<label for="passWord">Password</label> <input type="password"
								class="form-control" id="passWord" name="passWord">
						</div>

						<div class="form-group">
							<label for="passWord2">Password check</label> <input
								type="password" class="form-control" id="passWord2"
								name="passWord2">
						</div>

						<div class="alert alert-danger" id="alert-danger">틀린 비밀번호</div>

						<button type="submit" class="btn btn-danger btn-block" id="signup">sign
							up</button>
					</form>
				</div>
			</div>
		</div>
	</div>






	<script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script type="text/javascript" th:inline="javascript">
		/*<![CDATA[*/
			
		$(function() {
			$("#alert-danger").hide();
			$("#alert-IDdanger").hide();
			$("input").keyup(function() {
				var pwd1 = $("#passWord").val();
				var pwd2 = $("#passWord2").val();
				if (pwd1 != "" && pwd2 != "") {
					if (pwd1 != pwd2) {
						$("#alert-danger").show();
						$("#signup").attr("disabled", "disabled");
					}
					if (pwd1 == pwd2) {
						$("#alert-danger").hide();
						$("#signup").removeAttr("disabled");
					}
				}
				
				var flag=false;
				var Nickname=$("#nickName").val();
				var nick_list = /*[[${userlist}]]*/;
				if (Nickname!= "" ) {
					for(var idx in nick_list){   //
						if(Nickname==nick_list[idx]){
							flag=true;
						}
					}
					if(flag==true){
						$("#alert-IDdanger").show();
						$("#signup").attr("disabled", "disabled");
					}
					if(flag==false){
						$("#alert-IDdanger").hide();
						$("#signup").removeAttr("disabled");
					}
				}
			});
			
		});

	
		/*]]>*/
	</script>


</body>
</html>