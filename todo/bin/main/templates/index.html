
<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="utf-8">
<head th:replace="common/head"></head>

<body ondragstart="return false" onselectstart="return false">

	<div class="d-flex todo_main_area" id="wrapper">
		<!-- Page Content -->
		<div id="page-content-wrapper" class="todo_main">
			<nav
				class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<!--  <button class="btn btn-primary" id="menu-toggle">Toggle Menu</button> -->

				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav ml-auto mt-2 mt-lg-0">
						<li class="nav-item active"><a class="nav-link" href="/">홈
								<span class="sr-only"></span>
						</a></li>

						<li th:if="${session.user_info} == null"><a class="nav-link"
							href="/signin">로그인 </a></li>
						<li th:if="${session.user_info} == null"><a class="nav-link"
							href="/signup">회원가입 </a></li>

						<li th:if="${session.user_info} !=null"><a class="nav-link"
							href="/todo">추가 </a></li>
						<li th:if="${session.user_info} !=null"><a class="nav-link"
							href="/setting">설정 </a></li>

						<li th:if="${session.user_info} != null"><a class="nav-link"
							href="/signout">로그아웃 </a></li>
					</ul>
		<div id="" class="todo_main">
			<div class="row">
				<div class="col-md-12">
					<nav th:replace="common/nav"></nav>
					<div th:if="${session.user_info} !=null" class="welcome_area">
						[[${session.user_info.nickName} + '님 반갑습니다!']]
					</div>
					<h1 class="title">
						<span>My Todo</span>
					</h1>
				</div>
			</nav>
			<div th:if="${session.user_info} !=null" class="welcome_area">
				[[${session.user_info.nickName} + '님 반갑습니다!']]</div>
			</div>
			</div>
			<div class="container-fluid">
				<form method="post" action="/calender">
					<div id="todo" th:each="Todo : ${list_real}"
						th:attr="id=${Todo.id},color=${Todo.color}">
						<div style="display: inline-block" class="todo_total">
							<p th:text="${Todo.title}"></p>
							<div class="comp_btn_total">
								<th:block th:each="num: ${#numbers.sequence(1, Todo.count)}">
									<input type="checkbox" name="btn" value="btn">
								</th:block>
							</div>
						</div>
						<a class="nav-link" href="todo"> <i class="fas fa-plus fa-5x"></i>
						</a>
					</div>
				</form>
			</div>

			<div class="todo_footer" id=footer>
				<ul>
					<li><a href="javascript:;">나</a></li>
					<li><a href="javascript:;">친구</a></li>
					<li><a href="javascript:;">모두</a></li>
					<li><a href="javascript:;">설정</a></li>
				</ul>
			</div>

		</div>
		<!-- /#page-content-wrapper -->

	</div>
	<!-- /#wrapper -->




	<!-- 	Bootstrap core JavaScript-->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<script>
		$("[name=btn]").change(function(){	
			var count = 0;
			if($(this).is(":checked")) {
				realCount = count + 1;
				var objParams = {
						"todo_id" : "1",
						"realCount" : realCount
				}
				
				$.ajax({
					
					url: "/todo_result",
					data: objParams,
					success: function(res) {
					  	alert('전송')
					},
					error: function(request, status, error){
						console.log("error");
					}
				
				})
			}
		})		

	</script>


</body>

</html>
